### Module: `Test Cases`

- **ID:** `testCases`
- **Purpose:** Provides a developer-focused UI for loading and running validation test suites against a loaded `rules.json`. This is the primary tool for regression testing and ensuring the frontend `RuleEngine` behaves identically to the Python implementation.

---

#### Key Files

- `frontend/modules/testCases/index.js`: The module's entry point for registration.
- `frontend/modules/testCases/testCaseUI.js`: The UI class that renders the test selection and results panel.
- `frontend/tests/`: The directory containing the JSON test files generated by the Python exporter.

#### Responsibilities

- **Discover Test Sets:** On initialization, it fetches `frontend/tests/test_files.json`, which acts as an index of all available test sets (e.g., "A Link to the Past - Light World", "A Link to the Past - Dark World").
- **Load Test Data:** When a user selects a test set, the `TestCaseUI` loads two corresponding JSON files:
  1.  The specific `_rules.json` file for that test set (e.g., `vanilla_rules.json`).
  2.  The specific `_tests.json` file containing the test case definitions (e.g., `TestLightWorld_tests.json`).
- **Configure StateManager:** It commands the `StateManager` worker (via `stateManager.loadRules()`) to unload its current rules and use the test-specific rules instead. This isolates the test run to a specific, known game state.
- **Execute Tests:**
  - **Individual:** Allows running a single test case.
  - **Batch:** Provides a "Run All Tests" button to execute every test in the loaded set sequentially.
- **Test Logic:** For each test case, it commands the `StateManager` worker to:
  1.  Create a specific temporary inventory based on the test's `requiredItems` and `excludedItems`.
  2.  Evaluate the accessibility of the target location using this temporary inventory.
  3.  Return the boolean result.
- **Validate and Display Results:** Compares the worker's result against the expected result from the test file and displays `✓ PASS` or `❌ FAIL` in the UI. It also runs CICO (Check-In/Check-Out) validation to ensure all "required" items are truly necessary.

#### Events Published

This module does not publish global events, other than standard `ui:notification` messages.

#### Events Subscribed To

- `app:readyForUiDataLoad`: To trigger its initial fetch of the test set index.
- `stateManager:rulesLoaded`: Listens for confirmation from the `StateManager` that the test-specific rules have been successfully loaded before enabling the "Run" buttons.

#### Public Functions (`centralRegistry`)

This module does not register any public functions.

#### Dependencies & Interactions

- **StateManager**: This module has a deep, command-oriented relationship with the `StateManager`. It is one of the few modules that uses specialized commands on the `StateManagerProxy` (`loadRules`, `applyTestInventoryAndEvaluate`, `evaluateLocationAccessibilityForTest`) to precisely control the worker's state for testing purposes.
- **Exporter**: It directly consumes the JSON files (`_rules.json`, `_tests.json`) generated by the Python `exporter` tools, forming the second half of the project's main testing pipeline.
